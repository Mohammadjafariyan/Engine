var tavoos_sniper_retargeting_sdk = (function(){!function(){var tavoosuid = "";var domain = "https://sniper.tavoos.net";var currentPath = decodeURIComponent(location.href.substr(location.origin.length));function main_function(tag_id,tavoosuid){var xhr = new XMLHttpRequest();xhr.open("GET", domain + "/v1/retargeting/tags?id="+String(tag_id)+"&tavoosuid="+String(tavoosuid));xhr.withCredentials = 1;xhr.send(null);}function minimize_dot(css_selector){if(css_selector.substr(0,1) == "."){css_selector = css_selector.substr(1);}return css_selector;}var allTags = [{tag_id: "MmasjhgsK0",pattern_type: "%%",query: "/promotion",trigger_type: "click_on_css_class",css_selector: ".elementor-element-92b3b7f",delay: 0},{tag_id: "vtKTgyvN8H",pattern_type: "%%",query: "/promotion",trigger_type: "click_on_css_class",css_selector: ".elementor-custom-embed-image-overlay",delay: 0},{tag_id: "xrz0YdTd8a",pattern_type: "%%",query: "/promotion",trigger_type: "click_on_css_class",css_selector: ".gform_footer top_label",delay: 0},{tag_id: "Xly8vqOxAP",pattern_type: "%%",query: "/promotion",trigger_type: "click_on_css_class",css_selector: ".elementor-element-8027b85",delay: 0},{tag_id: "KBoGEqXIxm",pattern_type: "%%",query: "/promotion",trigger_type: "click_on_css_class",css_selector: ".elementor-element-38e11ae",delay: 0},{tag_id: "z9iROSQBIS",pattern_type: "%%",query: "/promotion",trigger_type: "stay_on_page_delay",css_selector: null,delay: 10},];function isPrefix(mainString, prefix) {return (mainString.substring(0, prefix.length) === prefix)}function isPostfix(mainString, postfix) {return (mainString.substring(mainString.length - postfix.length, mainString.length) === postfix)}function pattern_function(tag,tavoosuid){switch(tag.pattern_type){case "^^":if(isPrefix(currentPath, tag.query)){trigger_function(tag,tavoosuid);}break;case "%%":if (currentPath.includes(tag.query)) {trigger_function(tag,tavoosuid);}break;case "--":if(isPostfix(currentPath, tag.query)){trigger_function(tag,tavoosuid);}break;case "==":if (currentPath === tag.query) {trigger_function(tag,tavoosuid);}break;}}function trigger_function(tag,tavoosuid){switch (tag.trigger_type) {case "page_view":main_function(tag.tag_id,tavoosuid);break;case "click_on_css_class":var css_selector=tag.css_selector;css_selector=minimize_dot(css_selector);var classname =document.getElementsByClassName(String(css_selector));for (var i = 0; i < classname.length; i++) {classname[i].addEventListener("click", function(){main_function(tag.tag_id,tavoosuid);});}break;case "stay_on_page_delay":var delay = tag.delay*1000;setTimeout(function() {main_function(tag.tag_id,tavoosuid);}, delay);break;case "submit_form":var css_selector=tag.css_selector;css_selector=minimize_dot(css_selector);var forms =document.querySelectorAll("form."+String(css_selector));for (var i = 0; i < forms.length; i++) {forms[i].addEventListener("submit", function(e){main_function(tag.tag_id,tavoosuid);});}break;}}function appendIframe(e){if (null != e) {var t = document.createElement("iframe");t.style.display = "none",t.src = e;try {document.body.appendChild(t)} catch (e) {console.log(e)}}}function supportsLocalStorage() { try { return localStorage.setItem("1", "1"), localStorage.removeItem("1"), !0 } catch (e) { return !1 } }function supportsCookie() { try { return Cookies.set("1", "1"), Cookies.remove("1"), !0 } catch (e) { return !1 } }var useLocalStorage = supportsLocalStorage() , useCookie = !useLocalStorage && supportsCookie();function store(e, t, r) { useLocalStorage ? localStorage.setItem(e, t) : useCookie && Cookies.set(e, t, { expires: r }) }var eventMethod = window.addEventListener ? "addEventListener" : "attachEvent", eventer = window[eventMethod], messageEvent = "attachEvent" === eventMethod ? "onmessage" : "message", fidKey = "tavoosuid", fidHolder = { val: null, listeners: [], set value(e) { for (this.val = e; 0 < this.listeners.length;) this.listeners.pop()(e) }, get value() { return this.val }, listen: function (e) { this.listeners.push(e) } }, queryParams;function docReady(e) { "complete" === document.readyState || "interactive" === document.readyState ? setTimeout(e, 1) : document.addEventListener("DOMContentLoaded", e) }function load(e) { return useLocalStorage ? localStorage.getItem(e) : useCookie ? Cookies.get(e) : null }function processPage() { fidHolder.value = load(fidKey), eventer(messageEvent, function (e) { try { var t = e.data || e.message; var z = t; if (null == t || void 0 === t.indexOf) return; 0 === t.indexOf("tavoosuid-fid:") && (t = t.split(":")[1], fidHolder.value = t, store(fidKey, t, 999)), tavoosuid = t; if (0 === z.indexOf("tavoosuid-fid:")){ allTags.forEach(function (tag) {pattern_function(tag, tavoosuid);}) } } catch (e) { console.log(e) } }); }!function() { docReady(function() { appendIframe("https://sniper.tavoos.net/v1/retargeting/broadcast"), processPage() }) }()}()})();