!function(){var t,e;t=jQuery,e={triggerMeOn:function(e,a){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"click";t(document).on(n,a,e)},listenToSendCodeButton:()=>{e.triggerMeOn((t=>{var e=jQuery(t.target).data("regex"),a=jQuery(t.target).data("form-id"),n=jQuery(t.target).siblings("input").val(),o={iranWith98:/\+98(\d{10})/,iranWithout98:/09(\d{9})$/,iranWithout98And0:/9(\d{8})$/}[e],i="";return console.log(o.test(n)),o.test(n)?(jQuery(".ginput_container_sg-captcha").length&&(i=jQuery('.ginput_container_sg-captcha input[type="text"]').val()),jQuery.ajax({url:gFormValidation.ajaxURL,data:{action:"gFromValidationSendCode",phoneNumber:n,formID:a,code:i,inputRegex:e},type:"post",dataType:"json",success:function(e){if(!1===e.success)jQuery("#gFormPhoneValidationMessage").html('<div class="callout alert" data-closable>'+e.data.message+'    <button class="close-button" aria-label="Dismiss alert" type="button" data-close>       <span aria-hidden="true">&times;</span>    </button></div>');else{jQuery(t.target).parent().siblings(".ginput_container_phone_validation_check").fadeIn("slow"),jQuery("#gFormPhoneValidationMessage").html('<div class="callout success" data-closable>'+e.data.message+'    <button class="close-button" aria-label="Dismiss alert" type="button" data-close>       <span aria-hidden="true">&times;</span>    </button></div>');var a=Date.now(),n=120,o=jQuery(t.target).html(),i=setInterval((function(){if(Date.now()-a>13e4||0===n)return jQuery(t.target).attr("readonly",!1),jQuery(t.target).html(o),void clearInterval(i);n--,jQuery(t.target).html(n),jQuery(t.target).attr("readonly",!0)}),1e3)}jQuery(".ginput_container_sg-captcha img").trigger("click"),setTimeout((function(){jQuery('input[name="phone-validation-code"]').trigger("focus")}),700),setTimeout((function(){jQuery("#gFormPhoneValidationMessage .callout").fadeOut()}),4e3)}})):(jQuery(t.target).parent().addClass("gfield_error"),jQuery(t.target).siblings("input").attr("aria-invalid",!0)),!1}),"#gravity_form_phone_validation_send_code")},listenToCheckCodeButton:()=>{e.triggerMeOn((t=>{var a=jQuery(t.target).parent().siblings(".ginput_container_phone_validation"),n=a.find("button.button").data("regex"),o=a.find("input").val(),i=jQuery(t.target).siblings("#phone-validation-code").val();return{iranWith98:/\+98(\d{10})/,iranWithout98:/09(\d{9})$/,iranWithout98And0:/9(\d{8})$/}[n].test(o)&&jQuery.ajax({url:gFormValidation.ajaxURL,data:{action:"gFromValidationCheckCode",phoneNumber:o,inputRegex:n,code:i},type:"post",dataType:"json",success:function(n){!1===n.success?jQuery("#gFormPhoneValidationMessage").html('<div class="callout alert" data-closable>'+n.data.message+'    <button class="close-button" aria-label="Dismiss alert" type="button" data-close>       <span aria-hidden="true">&times;</span>    </button></div>'):(jQuery(t.target).parent().fadeOut("slow"),jQuery("#gFormPhoneValidationMessage").html('<div class="callout success" data-closable>'+n.data.message+'    <button class="close-button" aria-label="Dismiss alert" type="button" data-close>       <span aria-hidden="true">&times;</span>    </button></div>'),jQuery(".ginput_container_sg-captcha input").val(n.data.code),jQuery(".ginput_container_sg-captcha").parent().fadeOut(),a.find("button.button").css("display","none"),a.find("button.button").attr("readonly",!0),a.find("input").attr("readonly",!0),a.find("input").attr("style","width: 100% !important"),e.enableSubmitButton()),setTimeout((function(){jQuery("#gFormPhoneValidationMessage .callout").fadeOut()}),8e3)}}),!1}),"#gravity_form_phone_validation_check")},disableSubmitButton:()=>{console.log(jQuery(".ginput_container_phone_validation input").attr("readonly")),"readonly"!==jQuery(".ginput_container_phone_validation input").attr("readonly")&&jQuery("#gravity_form_phone_validation_send_code").parents(".gform_body").first().siblings(".gform_footer").find('input[type="submit"].gform_button').attr("disabled","disabled")},enableSubmitButton:()=>{jQuery("#gravity_form_phone_validation_send_code").parents(".gform_body").first().siblings(".gform_footer").find('input[type="submit"].gform_button').attr("disabled",!1)},loadEvents:()=>{e.listenToSendCodeButton(),e.listenToCheckCodeButton(),e.disableSubmitButton()}},t(document).on("ready",e.loadEvents)}()