{"ast":null,"code":"import { Validators } from \"@angular/forms\";\nimport { CrudComponent } from \"../crud/crud.component\";\nimport { OneWorkPlaceManyPersonnelComponent } from \"../one-work-place-many-personnel/one-work-place-many-personnel.component\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/forms\";\nimport * as i2 from \"../services/workplaces.service\";\nfunction WorkplacesComponent_ng_template_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\");\n    i0.ɵɵtext(1, \"\\u0648\\u06CC\\u0631\\u0627\\u06CC\\u0634 \\u067E\\u0631\\u0633\\u0646\\u0644\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction WorkplacesComponent_ng_template_3_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r9 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"td\")(1, \"a\", 6);\n    i0.ɵɵlistener(\"click\", function WorkplacesComponent_ng_template_3_Template_a_click_1_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r9);\n      const item_r7 = restoredCtx.$implicit;\n      const ctx_r8 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r8.showDialog(item_r7));\n    });\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const item_r7 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", item_r7.PersonnelCount, \" \\u067E\\u0631\\u0633\\u0646\\u0644 \");\n  }\n}\nfunction WorkplacesComponent_div_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵelement(1, \"app-one-work-place-many-personnel\", 7);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r4 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"oneId\", ctx_r4.selectedOneId)(\"oneTitle\", ctx_r4.oneTitle);\n  }\n}\nfunction WorkplacesComponent_ng_template_7_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r11 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 8);\n    i0.ɵɵlistener(\"click\", function WorkplacesComponent_ng_template_7_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r11);\n      const ctx_r10 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r10.submitOneToManyForm());\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(1, \"button\", 9);\n    i0.ɵɵlistener(\"click\", function WorkplacesComponent_ng_template_7_Template_button_click_1_listener() {\n      i0.ɵɵrestoreView(_r11);\n      const ctx_r12 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r12.display = false);\n    });\n    i0.ɵɵelementEnd();\n  }\n}\nconst _c0 = () => ({\n  width: \"350px\",\n  minWidth: \"200px\"\n});\nexport let WorkplacesComponent = /*#__PURE__*/(() => {\n  class WorkplacesComponent {\n    constructor(fb, workplacesService) {\n      this.fb = fb;\n      this.workplacesService = workplacesService;\n      this.cols = [{\n        field: 'Name',\n        header: 'نام مکان'\n      }, {\n        field: 'IsNotificationsEnabled',\n        header: 'اطلاع رسانی'\n      }, {\n        field: 'IsFaceRecognationEnabled',\n        header: 'تشخیص چهره'\n      }, {\n        field: 'oneDeviceEnabled',\n        header: 'استفاده از یک دستگاه برای ورود برای این گروه کاری'\n      }, {\n        field: 'oneDeviceEnabled',\n        header: 'استفاده از یک دستگاه برای ورود برای این گروه کاری'\n      }, {\n        field: 'UserClockTypesarr',\n        header: 'انواع ساعت زنی'\n      }];\n      this.formFields = [];\n      this.fields = [{\n        label: 'اطلاع رسانی فعال باشد',\n        name: 'IsNotificationsEnabled',\n        type: 'checkbox',\n        value: true,\n        controlType: 'textbox',\n        required: false,\n        validationMessage: 'Message is required'\n      }, {\n        label: 'تشخیص چهره فعال باشد',\n        name: 'IsFaceRecognationEnabled',\n        type: 'checkbox',\n        value: true,\n        controlType: 'textbox',\n        required: false,\n        validationMessage: 'Message is required'\n      }, {\n        label: 'استفاده از یک دستگاه برای ورود برای این گروه کاری',\n        name: 'oneDeviceEnabled',\n        type: 'checkbox',\n        value: true,\n        controlType: 'textbox',\n        required: false,\n        validationMessage: 'Email is required'\n      }, {\n        label: 'نام مکان',\n        name: 'Name',\n        type: 'text',\n        value: '',\n        controlType: 'textbox',\n        required: true,\n        validationMessage: 'Name is required'\n      }, {\n        label: 'انواع ساعت زنی',\n        name: 'UserClockTypesarr',\n        type: 'listbox',\n        value: true,\n        options: [{\n          label: 'GPS در محدوده مکان شرکت با',\n          value: 0\n        }, {\n          label: 'گرفتن سلفی هنگام کارت زنی',\n          value: 1\n        }, {\n          label: 'اسکن QRCode',\n          value: 3\n        }, {\n          label: 'بعد از ورود به وای فای مکان (Wifi)',\n          value: 4\n        }],\n        controlType: 'listbox',\n        required: true,\n        validationMessage: 'Category is required'\n      }];\n      this.display = false;\n      this.shouldRenderOneWorkPlaceManyPersonnel = false;\n    }\n    ngOnInit() {\n      this.form = this.createFormGroup();\n    }\n    createFormGroup() {\n      const group = {};\n      this.fields.forEach(field => {\n        group[field.name] = field.required ? [field.value, Validators.required] : [field.value];\n      });\n      let fg = this.fb.group(group);\n      return fg;\n    }\n    showDialog(item) {\n      this.selectedOneId = item.Id;\n      this.oneTitle = item.Name;\n      this.display = true;\n      this.selected = item;\n    }\n    submitOneToManyForm() {\n      this.oneToManyForm.submit();\n    }\n    reload() {\n      this.crudComponent.reload();\n    }\n    static #_ = this.ɵfac = function WorkplacesComponent_Factory(t) {\n      return new (t || WorkplacesComponent)(i0.ɵɵdirectiveInject(i1.FormBuilder), i0.ɵɵdirectiveInject(i2.WorkplacesService));\n    };\n    static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: WorkplacesComponent,\n      selectors: [[\"app-workplaces\"]],\n      viewQuery: function WorkplacesComponent_Query(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵviewQuery(OneWorkPlaceManyPersonnelComponent, 5);\n          i0.ɵɵviewQuery(CrudComponent, 5);\n        }\n        if (rf & 2) {\n          let _t;\n          i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.oneToManyForm = _t.first);\n          i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.crudComponent = _t.first);\n        }\n      },\n      decls: 8,\n      vars: 13,\n      consts: [[3, \"header\", \"cols\", \"form\", \"formFields\", \"service\"], [\"columnHeaderContent\", \"\"], [\"columnContent\", \"\"], [\"header\", \"\\u0627\\u0646\\u062A\\u062E\\u0627\\u0628 \\u067E\\u0631\\u0633\\u0646\\u0644 \\u0627\\u06CC\\u0646 \\u0645\\u062D\\u0644 \\u06A9\\u0627\\u0631\", 3, \"visible\", \"modal\", \"responsive\", \"minY\", \"visibleChange\", \"onHide\"], [4, \"ngIf\"], [\"pTemplate\", \"footer\"], [3, \"click\"], [3, \"oneId\", \"oneTitle\"], [\"type\", \"button\", \"pButton\", \"\", \"icon\", \"pi pi-check\", \"label\", \"\\u062B\\u0628\\u062A\", 3, \"click\"], [\"type\", \"button\", \"pButton\", \"\", \"icon\", \"pi pi-close\", \"label\", \"\\u0644\\u063A\\u0648\", 3, \"click\"]],\n      template: function WorkplacesComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"app-crud\", 0);\n          i0.ɵɵtemplate(1, WorkplacesComponent_ng_template_1_Template, 2, 0, \"ng-template\", null, 1, i0.ɵɵtemplateRefExtractor)(3, WorkplacesComponent_ng_template_3_Template, 3, 1, \"ng-template\", null, 2, i0.ɵɵtemplateRefExtractor);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(5, \"p-dialog\", 3);\n          i0.ɵɵlistener(\"visibleChange\", function WorkplacesComponent_Template_p_dialog_visibleChange_5_listener($event) {\n            return ctx.display = $event;\n          })(\"onHide\", function WorkplacesComponent_Template_p_dialog_onHide_5_listener() {\n            return ctx.reload();\n          });\n          i0.ɵɵtemplate(6, WorkplacesComponent_div_6_Template, 2, 2, \"div\", 4)(7, WorkplacesComponent_ng_template_7_Template, 2, 0, \"ng-template\", 5);\n          i0.ɵɵelementEnd();\n        }\n        if (rf & 2) {\n          i0.ɵɵproperty(\"header\", \"\\u0644\\u06CC\\u0633\\u062A \\u0645\\u062D\\u0644 \\u0647\\u0627\\u06CC \\u06A9\\u0627\\u0631\")(\"cols\", ctx.cols)(\"form\", ctx.form)(\"formFields\", ctx.fields)(\"service\", ctx.workplacesService);\n          i0.ɵɵadvance(5);\n          i0.ɵɵstyleMap(i0.ɵɵpureFunction0(12, _c0));\n          i0.ɵɵproperty(\"visible\", ctx.display)(\"modal\", true)(\"responsive\", true)(\"minY\", 70);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", ctx.display);\n        }\n      }\n    });\n  }\n  return WorkplacesComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}